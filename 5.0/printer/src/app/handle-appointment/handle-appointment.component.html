<!-- 
  Copyright (C) 2023 DE SIGNO GmbH
  
  This program is dual licensed. If you did not license the program under
  different terms, the following applies:
  
  This program is free software: You can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.
  
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU Affero General Public License for more details.
  
  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <https://www.gnu.org/licenses/>.
  
 -->

<ng-container [ngSwitch]="state">
  <ng-container *ngSwitchCase="''">
    <h3>{{ "Appoint_Loading" | translate }}</h3>
  </ng-container>
  <ng-container *ngSwitchCase="'invalid'">
    <h3><img src="assets/img/error.png" id="error" alt="error" /> {{ "Appoint_InvalidHeader" | translate }}</h3>
    <p>{{ "Appoint_InvalidText" | translate }}</p>
    <p>{{ errorInfo }}</p>
  </ng-container>
  <ng-container *ngSwitchCase="'notfound'">
    <h3><img src="assets/img/error.png" id="error" alt="error" /> {{ "Appoint_NotFoundHeader" | translate }}</h3>
    <p>{{ "Appoint_NotFoundText" | translate }}</p>
    <p>{{ errorInfo }}</p>
  </ng-container>
  <ng-container *ngSwitchCase="'notfound_early'">
    <h3><img src="assets/img/error.png" id="error" alt="error" /> {{ "Appoint_NotFoundEarlyHeader" | translate }}</h3>
    <p>{{ "Appoint_NotFoundEarlyText" | translate: {date: aptDate | date: 'longDate':undefined:locale, time: aptDate | date: 'shortTime':undefined:locale}  }}</p>
    <p>{{ errorInfo }}</p>
  </ng-container>
  <ng-container *ngSwitchCase="'notfound_late'">
    <h3><img src="assets/img/error.png" id="error" alt="error" /> {{ "Appoint_NotFoundLateHeader" | translate }}</h3>
    <p>{{ "Appoint_NotFoundLateText" | translate: {date: aptDate | date: 'longDate':undefined:locale, time: aptDate | date: 'shortTime':undefined:locale}  }}</p>
    <p>{{ errorInfo }}</p>
  </ng-container>
  <ng-container *ngSwitchCase="'noqueue'">
    <h3><img src="assets/img/error.png" id="error" alt="error" /> {{ "Appoint_NoQueueHeader" | translate }}</h3>
    <p>{{ "Appoint_NoQueueText" | translate }}</p>
    <p>{{ errorInfo }}</p>
  </ng-container>
  <ng-container *ngSwitchCase="'late'">
    <h3><img src="assets/img/error.png" id="error" alt="error" /> {{ "Appoint_LateHeader" | translate }}</h3>
    <p>{{ "Appoint_LateText" | translate: {date: aptDate | date: 'longDate':undefined:locale, time: aptDate | date: 'shortTime':undefined:locale} }}</p>
    <p>{{ errorInfo }}</p>
  </ng-container>
  <ng-container *ngSwitchCase="'qr'">
    <h3>
      <img
        src="assets/img/registration.png"
        id="registration"
        alt="registration"
      />
      {{ "Appoint_TicketHeader" | translate }}
    </h3>
    <p>{{ "Appoint_TicketTextWScan" | translate }}</p>
    <figure class="left">
      <figcaption>{{ "Appoint_TicketPrint" | translate }}</figcaption>
      <a class="print-button" (click)="print()"></a>
    </figure>
    <figure class="right">
      <figcaption>{{ "Appoint_TicketScan" | translate }}</figcaption>
      <qrcode
        [qrdata]="getAppLink()"
        [margin]="0"
        colorLight="#d7d7d7"
        colorDark="#707173"
      ></qrcode>
    </figure>
  </ng-container>
</ng-container>
