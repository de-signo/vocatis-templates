<!-- 
  Copyright (C) 2023 DE SIGNO GmbH
  
  This program is dual licensed. If you did not license the program under
  different terms, the following applies:
  
  This program is free software: You can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.
  
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU Affero General Public License for more details.
  
  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <https://www.gnu.org/licenses/>.
  
 -->

<section>
  <img src="assets/img/confirmation_code.png" alt="confirmation" />

  <h3>{{ "EnterAppointId_Header" | translate }}</h3>

  <div class="code-row">
    <div class="code">
      <input *ngFor="let i of codeIndexes" [value]="i >= code.length ? '' : code[i]" maxlength="1" />
    </div>

    <button (click)="code = ''" *ngIf="state != 'error'">
      <svg viewBox="0 0 48 48">
        <path d="M43.4,5.4h-0.5h-9.2c0-0.1,0-0.2,0-0.3c0-1.9-1.7-3.4-3.7-3.4H18.3c-2.1,0-3.7,1.5-3.7,3.4c0,0.1,0,0.2,0,0.3
            H6.7H4.6C4,5.4,3.4,5.9,3.4,6.5s0.5,1.1,1.2,1.1h1l1.6,19.7c0.3,4,0.7,8.1,1,12.1s3.7,7,8,7c0.1,0,0.1,0,0.2,0
            c3.7-0.1,7.4-0.1,11.1,0h4.8c3.4,0,6.4-2,7.3-4.9c0.3-0.9,0.4-1.9,0.5-2.9c0.4-4.1,0.7-8.2,1-12.3l1.4-17.2c0-0.5,0.1-0.9,0.1-1.4
            h0.7c0.6,0,1.2-0.5,1.2-1.1S44.1,5.4,43.4,5.4z M16.9,5.1c0-0.7,0.6-1.3,1.4-1.3h11.8c0.8,0,1.4,0.6,1.4,1.3l0,0H16.9L16.9,5.1z
            M40.3,8.7L38.9,26c-0.3,4.1-0.7,8.2-1.1,12.4c-0.1,0.8-0.1,1.6-0.4,2.4c-0.7,2-2.7,3.4-5.1,3.4h-4.8c-3.7,0-7.5,0-11.2,0
            c-3,0-5.6-2.1-5.8-5c-0.3-4-0.6-8.1-1-12.1L7.9,7.5h32.5C40.4,7.9,40.3,8.3,40.3,8.7z"/>
        <path d="M16.1,13.6c-0.3-0.5-0.9-0.7-1.4-0.5c-0.6,0.1-0.9,0.5-1,1c0,0.2-0.1,0.3-0.1,0.5c0.2,4.1,1.3,22.5,1.4,24.7
            c0,0.6,0.6,1.1,1.3,1.1c0.7,0,1.2-0.4,1.1-1.1c-0.1-2-0.9-21.9-1-24.5C16.4,14.3,16.3,13.9,16.1,13.6"/>
        <path d="M33.4,13c-0.6-0.1-1.1,0.1-1.4,0.5c-0.2,0.3-0.4,0.7-0.4,1.1c-0.2,4.1-0.9,20.4-1,24.4c0,0.7,0.4,1.1,1.1,1.2
            c0.7,0,1.3-0.5,1.3-1.1c0.2-3.3,1.1-19.6,1.4-24.5c0-0.2,0-0.4,0-0.6C34.3,13.5,34,13.1,33.4,13"/>
        <path d="M24,13c-0.7,0-1.3,0.5-1.4,1.1c0,0.2,0,0.4,0,0.6c0,7.2,0.2,23.4,0.2,24.4c0,0.8,0.8,1.3,1.6,1.1
            c0.6-0.1,0.9-0.5,0.9-1.2c0-4.1,0.1-12.3,0.2-12.3c0-3.6,0-12,0-12.6C25.3,13.5,24.7,13,24,13"/>
      </svg>
    </button>
    <img src="assets/img/error.png" alt="error"  *ngIf="state == 'error'" />
  </div>

  <span class="error">
    <ng-template [ngIf]="state == 'error'">{{ "EnterAppointId_Error" | translate }}</ng-template>
  </span>
</section>

<div class="keyboard">
  <div>
    <button *ngFor="let k of [1,2,3,4,5]" (click)="addChar(k)">{{k}}</button>
  </div>
  <div>
    <button *ngFor="let k of [6,7,8,9,0]" (click)="addChar(k)">{{k}}</button>
  </div>
</div>